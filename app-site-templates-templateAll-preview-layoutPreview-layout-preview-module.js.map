{"version":3,"sources":["webpack:///./src/app/site/templates/templateAll/preview/layoutPreview/layout-preview.component.ts","webpack:///./src/app/site/templates/templateAll/preview/layoutPreview/layout-preview.module.ts","webpack:///./src/app/site/templates/templateAll/preview/layoutPreview/layout-preview.style.css","webpack:///./src/app/site/templates/templateAll/preview/layoutPreview/layout-preview.template.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAA2E;AACkB;AACpC;AACzD,qDAAqD;AAEuB;AAU5E;IA4BI,gCACW,mBAAuC,EACvC,GAAsB,EACtB,OAAe,EACf,cAA8B;QAH9B,wBAAmB,GAAnB,mBAAmB,CAAoB;QACvC,QAAG,GAAH,GAAG,CAAmB;QACtB,YAAO,GAAP,OAAO,CAAQ;QACf,mBAAc,GAAd,cAAc,CAAgB;QA9BzC,cAAS,GAAG,SAAS,CAAC;QAKtB,eAAU,GAAG,IAAI,CAAC;QAClB,YAAO,GAAG,EAAE,CAAC;QACb,cAAS,GAAG;YACR,mBAAmB,EAAE,aAAa;YAClC,yBAAyB,EAAE,aAAa;YACxC,eAAe,EAAE,aAAa;YAC9B,iBAAiB,EAAE,cAAc;YACjC,gBAAgB,EAAE,cAAc;YAChC,gBAAgB,EAAE,aAAa;YAC/B,aAAa,EAAE,cAAc;YAC7B,iBAAiB,EAAE,WAAW;YAC9B,aAAa,EAAE,WAAW;YAC1B,UAAU,EAAE,WAAW;YACvB,eAAe,EAAE,YAAY;YAC7B,yBAAyB,EAAE,YAAY;YACvC,cAAc,EAAE,eAAe;YAC/B,gBAAgB,EAAE,YAAY;YAC9B,eAAe,EAAE,cAAc;YAC/B,cAAc,EAAE,WAAW;SAC9B,CAAC;QAQE,IAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QACjC,IAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAChC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAChF,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,eAAe,EAAE;YACnD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC3C;aAAM;YACH,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC;gBAChE,uDAAuD;gBACvD,IAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;gBAC1E,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBACzC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC;aAC7D;iBAAM;gBACH,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;aACzC;SACJ;IACL,CAAC;IAED,0CAAS,GAAT,UAAU,OAAO,EAAE,MAAuB;QAAvB,uCAAuB;QACtC,IAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QACvC,CAAC,MAAM,EAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;QACtF,IAAI,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;YAChC,OAAO,0BAAwB,OAAS,CAAC;SAC5C;QAED,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;YACnC,OAAO,6BAA2B,OAAS,CAAC;SAC/C;QAED,IAAI,SAAS,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;YACtC,OAAO,gCAA8B,OAAS,CAAC;SAClD;QAED,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;YACnC,OAAO,6BAA2B,OAAS,CAAC;SAC/C;IACL,CAAC;IAGD,iDAAgB,GAAhB;QACI,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClD,IAAI,IAAI,GAAY,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAC1E,OAAO,IAAI,CAAC;SACf;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IACD,4CAAW,GAAX;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,IAAI,IAAI,CAAC,WAAW,KAAK,KAAK,EAAE;YAC5B,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5E,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;gBAC5C,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE;oBACzC,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;iBAC1C;gBACD,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,qEAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,qEAAW,CAAC,aAAa,GAAG,WAAW,CAAC;aAChH;iBAAM;gBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;aAC5C;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE;gBACxD,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBAC7C,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACjG,IAAI,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC1F,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC5E,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;gBAC5C,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,qEAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,qEAAW,CAAC,aAAa,GAAG,WAAW,CAAC;aAChH;iBAAM;gBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,mBAAmB,CAAC,CAAC;aACpD;SACJ;IACL,CAAC;IAED,sDAAqB,GAArB;QACI,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YAC3H,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY;YAC9C,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;YAC7C,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACnD,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,qEAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,qEAAW,CAAC,aAAa,GAAG,WAAW,CAAC;SAChH;aAAM;YACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;SAC3F;IACL,CAAC;IAED,6CAAY,GAAZ,UAAa,QAAa,EAAE,UAAU;QAClC,IAAI,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,EAAE;YAAE,IAAI,CAAC,GAAG,EAAE,CAAC;SAAE;QACtF,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAC9D,MAAM,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;QAC3D,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtC,MAAM,CAAC,iBAAiB,CAAC,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;IAC3D,CAAC;IACD,gDAAe,GAAf;QAAA,iBAYC;QAXG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;YAClB,KAAI,CAAC,sBAAsB,EAAE,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,IAAI,QAAQ,GAAG,WAAW,CAAC;YACvB,IAAI,MAAM,CAAC,QAAQ,EAAE;gBACjB,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,kBAAkB,EAAE,SAAS,EAAE,CAAC,CAAC;gBAC7D,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,sBAAsB,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC5E,aAAa,CAAC,QAAQ,CAAC,CAAC;aAC3B;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,uDAAsB,GAAtB;QACI,IAAI,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC;QACnC,IAAI,KAAK,GAAG,GAAG;YACX,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;aAC1B,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,GAAG,GAAG;YAChC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;;YAE1B,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC9B,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;IAED,6CAAY,GAAZ;QACI,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ;YAC3B,MAAM,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,6CAAY,GAAZ;QACI,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ;YAC3B,MAAM,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAChD,CAAC;IAED,2CAAU,GAAV,UAAW,SAAiB;QACxB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,KAAK,GAAG,GAAG,CAAC;QAChB,IAAI,MAAM,GAAG,GAAG,CAAC;QACjB,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAC/B,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAChF,CAAC;IA7KQ,sBAAsB;QALlC,+DAAS,CAAC;YACP,QAAQ,EAAE,mBAAmB;YAC7B,8JAA6C;;SAEhD,CAAC;+EA8BkC,0FAAkB;YAClC,+DAAiB;YACb,sDAAM;YACC,8DAAc;OAhChC,sBAAsB,CA8KlC;IAAD,6BAAC;CAAA;AA9KkC;;;;;;;;;;;;;;;;;;;;;;;;;ACf6C;AACC;AACrB;AACiB;AACpC;AAEc;AACa;AAC7D,IAAM,cAAc,GAAW;IACpC;QACE,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,gFAAsB;aAClC;SACF;KACF;CACF,CAAC;AAOF;IAAA;IAAmC,CAAC;IAAvB,mBAAmB;QAN/B,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,0EAAY,EAAE,4DAAY,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,+DAAW,EAAE,gFAAa,CAAC;YAC1F,OAAO,EAAE,EAAE;YACX,YAAY,EAAE,CAAC,gFAAsB,CAAC;YACtC,SAAS,EAAE,CAAC,gFAAc,CAAC;SAC5B,CAAC;OACW,mBAAmB,CAAI;IAAD,0BAAC;CAAA;AAAJ;;;;;;;;;;;;ACzBhC,oCAAoC,iBAAiB,YAAY,YAAY,mBAAmB,kBAAkB,mBAAmB,aAAa,gBAAgB,iCAAiC,YAAY,8CAA8C,yBAAyB,oBAAoB,+BAA+B,sBAAsB,sBAAsB,eAAe,aAAa,2BAA2B,kBAAkB,kBAAkB,aAAa,gBAAgB,4BAA4B,UAAU,YAAY,aAAa,mBAAmB,kBAAkB,mBAAmB,QAAQ,SAAS,SAAS,cAAc,+BAA+B,mBAAmB,YAAY,gBAAgB,kBAAkB,kCAAkC,wBAAwB,aAAa,YAAY,YAAY,cAAc,WAAW,aAAa,cAAc,gBAAgB,aAAa,2BAA2B,WAAW,aAAa,aAAa,eAAe,2BAA2B,qBAAqB,gBAAgB,gBAAgB,oCAAoC,2BAA2B,8BAA8B,2BAA2B,0BAA0B,gBAAgB,iCAAiC,8BAA8B,6BAA6B,mBAAmB,uBAAuB,iBAAiB,YAAY,oBAAoB,gBAAgB,4BAA4B,0BAA0B,kBAAkB,kBAAkB,yBAAyB,4BAA4B,+BAA+B,2BAA2B,wBAAwB,0BAA0B,UAAU,gBAAgB,8BAA8B,0BAA0B,4CAA4C,6BAA6B,sBAAsB,gBAAgB,yBAAyB,eAAe,iBAAiB,GAAG,kDAAkD,gCAAgC,GAAG,6CAA6C,m5I;;;;;;;;;;;ACA9hE,+KAA+K,qBAAqB,wIAAwI,yMAAyM,sMAAsM,y0BAAy0B,8IAA8I,oE","file":"app-site-templates-templateAll-preview-layoutPreview-layout-preview-module.js","sourcesContent":["import { environment } from './../../../../../../environments/environment';\nimport { FeatureAuthService } from './../../../../../shared/services/feature-access.service';\nimport { Router, ActivatedRoute } from '@angular/router';\n// import { ViewEncapsulation } from '@angular/core';\n\nimport { Component, AfterViewInit, ChangeDetectorRef } from '@angular/core';\n\ndeclare var jQuery: any;\ndeclare var window: any;\n\n@Component({\n    selector: 'og-layout-preview',\n    templateUrl: './layout-preview.template.html',\n    styleUrls: ['./layout-preview.style.css']\n})\nexport class LayoutPreviewComponent implements AfterViewInit {\n    src: string;\n    className = 'desktop';\n    previewConfig: any;\n    selector: any;\n    subdomain: string;\n    previewType: string;\n    urlPreview = true;\n    calcUrl = '';\n    templates = {\n        'one-page-card-new': 'The Chicago',\n        'one-page-card-oldresult': 'The Chicago',\n        'one-page-card': 'The Chicago',\n        'sound-cloud-new': 'The Londoner',\n        'sound-cloud-v3': 'The Londoner',\n        'template-seven': 'The Seattle',\n        'sound-cloud': 'The Londoner',\n        'inline-temp-new': 'The Greek',\n        'inline-temp': 'The Greek',\n        'experian': 'The Tokyo',\n        'template-five': 'The Madrid',\n        'template-five-oldresult': 'The Madrid',\n        'template-six': 'The Stockholm',\n        'template-eight': 'The Venice',\n        'template-nine': 'The New York',\n        'template-ten': 'The Paris'\n    };\n\n    constructor(\n        public _featureAuthService: FeatureAuthService,\n        public cdr: ChangeDetectorRef,\n        public _router: Router,\n        public _activateRoute: ActivatedRoute) {\n\n        const url = window.location.href;\n        const urlParts = url.split('/');\n        this.previewConfig = localStorage.getItem('previewConfig');\n        this.previewConfig = this.previewConfig ? JSON.parse(this.previewConfig) : null;\n        this.subdomain = urlParts[2].split('.')[0];\n        if (urlParts[urlParts.length - 2] === 'layoutPreview') {\n            this.calcUrl = urlParts[urlParts.length - 1];\n            this.src = this.getCalUrl(this.calcUrl);\n        } else {\n            this.urlPreview = false;\n            if (this.previewConfig) {\n                this.previewType = this.previewConfig.new ? 'new' : 'duplicate';\n                // this.src = this.previewConfig[this.previewType].url;\n                const calcUrl = this.previewConfig[this.previewType].url.split('/').pop();\n                this.src = this.getCalUrl(calcUrl, true);\n                this.selector = this.previewConfig[this.previewType].name;\n            } else {\n                this._router.navigate(['/dashboard']);\n            }\n        }\n    }\n\n    getCalUrl(calcUrl, normal: boolean = false) {\n        const routePath = window.location.href;\n        !normal? this.selector = this._activateRoute.snapshot.data.calc_details.template : '';\n        if (routePath.includes('.rely.co')) {\n            return `http://livec.rely.co/${calcUrl}`;\n        }\n\n        if (routePath.includes('.outgrow.co')) {\n            return `https://live.outgrow.us/${calcUrl}`;\n        }\n\n        if (routePath.includes('.outgrow.local')) {\n            return `http://livec.outgrow.local/${calcUrl}`;\n        }\n\n        if (routePath.includes('.outgrow.in')) {\n            return `http://livec.outgrow.in/${calcUrl}`;\n        }\n    }\n\n\n    getFeatureaccess(): boolean {\n        if (this.selector) {\n            let selector = this.selector.split('-').join('_');\n            let flag = <boolean>this._featureAuthService.features.templates[selector];\n            return flag;\n        } else {\n            return true;\n        }\n    }\n    useTemplate() {\n        let selector = this.selector;\n        if (this.previewType === 'new') {\n            if (this._featureAuthService.features.templates[selector.split('-').join('_')]) {\n                localStorage.setItem('temp_name', selector);\n                if (!localStorage.getItem('changeTemplate')) {\n                    localStorage.setItem('project', 'New');\n                }\n                window.location.href = environment.PROTOCOL + this.subdomain + '.' + environment.APP_EXTENSION + '/builder/';\n            } else {\n                this.upgradePopup(selector, 'templates');\n            }\n        } else {\n            if (this.previewConfig[this.previewType].selectCalc.active) {\n                localStorage.setItem('project', 'Duplicate');\n                localStorage.setItem('DuplicateId', this.previewConfig[this.previewType].selectCalc.liveApp.app);\n                let duplicateURL = this.previewConfig[this.previewType].selectCalc.liveApp.url.split('/');\n                localStorage.setItem('DuplicateURL', duplicateURL[duplicateURL.length - 1]);\n                localStorage.setItem('temp_name', selector);\n                window.location.href = environment.PROTOCOL + this.subdomain + '.' + environment.APP_EXTENSION + '/builder/';\n            } else {\n                this.upgradePopup(selector, 'pre-madeTemplates');\n            }\n        }\n    }\n\n    useUrlPreviewTemplate() {\n        if (this._featureAuthService.features.templates[this._activateRoute.snapshot.data.calc_details.template.split('-').join('_')]) {\n            this._activateRoute.snapshot.data.calc_details\n            localStorage.setItem('project', 'Duplicate');\n            localStorage.setItem('DuplicateURL', this.calcUrl);\n            window.location.href = environment.PROTOCOL + this.subdomain + '.' + environment.APP_EXTENSION + '/builder/';\n        } else {\n            this.upgradePopup(this._activateRoute.snapshot.data.calc_details.template, 'templates');\n        }\n    }\n\n    upgradePopup(selector: any, subFeature) {\n        let type = selector.split('-');\n        if (type[type.length - 1] === 'new' || type[type.length - 1] === 'v3') { type.pop(); }\n        type = type.join('_');\n        this._featureAuthService.setSelectedFeature(subFeature, type);\n        jQuery('.templates').addClass('activegreen limited-label');\n        jQuery('#premiumModal').modal('show');\n        jQuery('.modal-backdrop').insertAfter('#premiumModal');\n    }\n    ngAfterViewInit() {\n        this.viewOnWindowWidthBasis();\n        jQuery(window).resize(() => {\n            this.viewOnWindowWidthBasis();\n        });\n        let interval = setInterval(function () {\n            if (window.Intercom) {\n                window.Intercom('update', { 'app_current_page': 'preview' });\n                window.Intercom('update', { 'app_current_page_url': window.location.href });\n                clearInterval(interval);\n            }\n        }, 1000);\n    }\n\n    viewOnWindowWidthBasis(): void {\n        let width = jQuery(window).width();\n        if (width > 775)\n            this.switchView('desktop');\n        else if (width <= 775 && width > 375)\n            this.switchView('tablet');\n        else\n            this.switchView('mobile');\n        this.cdr.detectChanges();\n    }\n\n    onMouseEnter() {\n        if (this.className === 'mobile')\n            jQuery('.responsive-menu').fadeIn(600);\n    }\n\n    onMouseLeave() {\n        if (this.className === 'mobile')\n            jQuery('.responsive-menu').fadeOut(600);\n    }\n\n    switchView(className: string) {\n        this.className = className;\n        let width = 600;\n        let height = 400;\n        window.resizeBy(width, height);\n        window.moveTo(((screen.width - width) / 2), ((screen.height - height) / 2));\n    }\n}\n","import { ToolbarModule } from './../../../../components/toolbar/toolbar.module';\nimport { BuilderService } from './../../../../+builder/services/builder.service';\nimport { PipesModule } from './../../../pipes/pipes.module';\nimport { SharedModule } from './../../../../../shared/modules/shared.module';\nimport { NgModule } from '@angular/core';\n\nimport { RouterModule, Routes } from '@angular/router';\nimport { LayoutPreviewComponent } from './layout-preview.component';\nexport const PREVIEW_ROUTES: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: LayoutPreviewComponent\n      }\n    ]\n  }\n];\n@NgModule({\n  imports: [SharedModule, RouterModule.forChild(PREVIEW_ROUTES), PipesModule, ToolbarModule],\n  exports: [],\n  declarations: [LayoutPreviewComponent],\n  providers: [BuilderService]\n})\nexport class LayoutPreviewModule { }\n","module.exports = \".responsive-menu {background: #fff;width: 100%;float: left;text-align: center;padding: 6px 25px;position: absolute;z-index: 999;font-size: 13px;border-bottom: 1px solid #c7c7c7;color: #666;box-shadow: 0px 3px 15px 5px rgba(0,0,0,0.18);display: flex !important;align-items: center;justify-content: space-between;opacity:1 !important;}\\n.responsive-menu a {padding: 0 5px;float: left;}\\n.responsive-menu a span {margin-top: -20px;margin-left: 15px;float: right;margin-top: 3px;color: rgba(0, 0, 0, 0.31);}\\niframe {width: 100%;height: 100%;position: absolute;margin-left: auto;margin-right: auto;left: 0;right: 0;top: 0px;border: none;}\\n.responsive-menu span.title {margin-right: 26px;float: left;margin-top: 7px;margin-left: 26px;font-family: 'montserratregular';}\\n.responsive-menu div {float: left;}\\n.desktop {width: 100%;height: 100%;}\\n.mobile {width: 375px;height: 570px;margin: 1% auto;height:570px;border: 1px solid #dcdddf;}\\n.tablet {width: 775px;height: 100%;margin: 0 auto;border: 1px solid #dcdddf;}\\n.responsive-menu i{ font-size:22px;color: #62676b;}\\n.responsive-menu a.active-view i {color: #1483b7 !important;}\\n.responsive-menu a:hover i {color: #1483b7 !important;}\\nspan.preview-temp-type {font-size: 16px; font-family: montserratregular;}\\nspan.preview-temp-type span{font-family: montserratlight;padding-left: 5px;}\\n.useTemplate button {border-radius: 0;color: #fff;background: #fb5f66;font-size: 11px;font-family: montserratbold;text-transform: uppercase;padding: 5px 20px;line-height: 18px;transition:all 0.5s ease}\\n.useTemplate button:hover{background: #fdb6b9 !important;color: #fb5f66 !important;}\\n#main-profile iframe {height: calc(100% - 43px);top: 43px;margin: 0 auto;}\\n#main-profile iframe.mobile{height: 580px !important;}\\n.responsive-menu .useTemplate .btn-red i {\\n    color: #fff !important;\\n    font-size: 16px;\\n    margin: 0;\\n    position: relative;\\n    top: 2px;\\n    left: -3px;\\n}\\n.responsive-menu .useTemplate .btn-red:hover i {\\n    color: #fb5f66 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2l0ZS90ZW1wbGF0ZXMvdGVtcGxhdGVBbGwvcHJldmlldy9sYXlvdXRQcmV2aWV3L2xheW91dC1wcmV2aWV3LnN0eWxlLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLGdDQUFnQyxDQUFDLFdBQVcsQ0FBQyw2Q0FBNkMsQ0FBQyx3QkFBd0IsQ0FBQyxtQkFBbUIsQ0FBQyw4QkFBOEIsQ0FBQyxvQkFBb0IsQ0FBQztBQUM1VSxvQkFBb0IsY0FBYyxDQUFDLFdBQVcsQ0FBQztBQUMvQyx5QkFBeUIsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQywwQkFBMEIsQ0FBQztBQUNySCxRQUFRLFdBQVcsQ0FBQyxZQUFZLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDO0FBQ2hJLDZCQUE2QixrQkFBa0IsQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLGdDQUFnQyxDQUFDO0FBQy9ILHNCQUFzQixXQUFXLENBQUM7QUFDbEMsVUFBVSxXQUFXLENBQUMsWUFBWSxDQUFDO0FBQ25DLFNBQVMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLHlCQUF5QixDQUFDO0FBQzNGLFNBQVMsWUFBWSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMseUJBQXlCLENBQUM7QUFDNUUsb0JBQW9CLGNBQWMsQ0FBQyxjQUFjLENBQUM7QUFDbEQsa0NBQWtDLHlCQUF5QixDQUFDO0FBQzVELDRCQUE0Qix5QkFBeUIsQ0FBQztBQUN0RCx3QkFBd0IsZUFBZSxFQUFFLDhCQUE4QixDQUFDO0FBQ3hFLDRCQUE0Qiw0QkFBNEIsQ0FBQyxpQkFBaUIsQ0FBQztBQUMzRSxxQkFBcUIsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLGVBQWUsQ0FBQywyQkFBMkIsQ0FBQyx5QkFBeUIsQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyx3QkFBd0I7QUFDeE0sMEJBQTBCLDhCQUE4QixDQUFDLHlCQUF5QixDQUFDO0FBQ25GLHNCQUFzQix5QkFBeUIsQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDO0FBQ3pFLDRCQUE0Qix3QkFBd0IsQ0FBQztBQUNyRDtJQUNJLHNCQUFzQjtJQUN0QixlQUFlO0lBQ2YsU0FBUztJQUNULGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsVUFBVTtBQUNkO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0IiLCJmaWxlIjoic3JjL2FwcC9zaXRlL3RlbXBsYXRlcy90ZW1wbGF0ZUFsbC9wcmV2aWV3L2xheW91dFByZXZpZXcvbGF5b3V0LXByZXZpZXcuc3R5bGUuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlc3BvbnNpdmUtbWVudSB7YmFja2dyb3VuZDogI2ZmZjt3aWR0aDogMTAwJTtmbG9hdDogbGVmdDt0ZXh0LWFsaWduOiBjZW50ZXI7cGFkZGluZzogNnB4IDI1cHg7cG9zaXRpb246IGFic29sdXRlO3otaW5kZXg6IDk5OTtmb250LXNpemU6IDEzcHg7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjN2M3Yzc7Y29sb3I6ICM2NjY7Ym94LXNoYWRvdzogMHB4IDNweCAxNXB4IDVweCByZ2JhKDAsMCwwLDAuMTgpO2Rpc3BsYXk6IGZsZXggIWltcG9ydGFudDthbGlnbi1pdGVtczogY2VudGVyO2p1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtvcGFjaXR5OjEgIWltcG9ydGFudDt9XG4ucmVzcG9uc2l2ZS1tZW51IGEge3BhZGRpbmc6IDAgNXB4O2Zsb2F0OiBsZWZ0O31cbi5yZXNwb25zaXZlLW1lbnUgYSBzcGFuIHttYXJnaW4tdG9wOiAtMjBweDttYXJnaW4tbGVmdDogMTVweDtmbG9hdDogcmlnaHQ7bWFyZ2luLXRvcDogM3B4O2NvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMzEpO31cbmlmcmFtZSB7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxMDAlO3Bvc2l0aW9uOiBhYnNvbHV0ZTttYXJnaW4tbGVmdDogYXV0bzttYXJnaW4tcmlnaHQ6IGF1dG87bGVmdDogMDtyaWdodDogMDt0b3A6IDBweDtib3JkZXI6IG5vbmU7fVxuLnJlc3BvbnNpdmUtbWVudSBzcGFuLnRpdGxlIHttYXJnaW4tcmlnaHQ6IDI2cHg7ZmxvYXQ6IGxlZnQ7bWFyZ2luLXRvcDogN3B4O21hcmdpbi1sZWZ0OiAyNnB4O2ZvbnQtZmFtaWx5OiAnbW9udHNlcnJhdHJlZ3VsYXInO31cbi5yZXNwb25zaXZlLW1lbnUgZGl2IHtmbG9hdDogbGVmdDt9XG4uZGVza3RvcCB7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxMDAlO31cbi5tb2JpbGUge3dpZHRoOiAzNzVweDtoZWlnaHQ6IDU3MHB4O21hcmdpbjogMSUgYXV0bztoZWlnaHQ6NTcwcHg7Ym9yZGVyOiAxcHggc29saWQgI2RjZGRkZjt9XG4udGFibGV0IHt3aWR0aDogNzc1cHg7aGVpZ2h0OiAxMDAlO21hcmdpbjogMCBhdXRvO2JvcmRlcjogMXB4IHNvbGlkICNkY2RkZGY7fVxuLnJlc3BvbnNpdmUtbWVudSBpeyBmb250LXNpemU6MjJweDtjb2xvcjogIzYyNjc2Yjt9XG4ucmVzcG9uc2l2ZS1tZW51IGEuYWN0aXZlLXZpZXcgaSB7Y29sb3I6ICMxNDgzYjcgIWltcG9ydGFudDt9XG4ucmVzcG9uc2l2ZS1tZW51IGE6aG92ZXIgaSB7Y29sb3I6ICMxNDgzYjcgIWltcG9ydGFudDt9XG5zcGFuLnByZXZpZXctdGVtcC10eXBlIHtmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiBtb250c2VycmF0cmVndWxhcjt9XG5zcGFuLnByZXZpZXctdGVtcC10eXBlIHNwYW57Zm9udC1mYW1pbHk6IG1vbnRzZXJyYXRsaWdodDtwYWRkaW5nLWxlZnQ6IDVweDt9XG4udXNlVGVtcGxhdGUgYnV0dG9uIHtib3JkZXItcmFkaXVzOiAwO2NvbG9yOiAjZmZmO2JhY2tncm91bmQ6ICNmYjVmNjY7Zm9udC1zaXplOiAxMXB4O2ZvbnQtZmFtaWx5OiBtb250c2VycmF0Ym9sZDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO3BhZGRpbmc6IDVweCAyMHB4O2xpbmUtaGVpZ2h0OiAxOHB4O3RyYW5zaXRpb246YWxsIDAuNXMgZWFzZX1cbi51c2VUZW1wbGF0ZSBidXR0b246aG92ZXJ7YmFja2dyb3VuZDogI2ZkYjZiOSAhaW1wb3J0YW50O2NvbG9yOiAjZmI1ZjY2ICFpbXBvcnRhbnQ7fVxuI21haW4tcHJvZmlsZSBpZnJhbWUge2hlaWdodDogY2FsYygxMDAlIC0gNDNweCk7dG9wOiA0M3B4O21hcmdpbjogMCBhdXRvO31cbiNtYWluLXByb2ZpbGUgaWZyYW1lLm1vYmlsZXtoZWlnaHQ6IDU4MHB4ICFpbXBvcnRhbnQ7fVxuLnJlc3BvbnNpdmUtbWVudSAudXNlVGVtcGxhdGUgLmJ0bi1yZWQgaSB7XG4gICAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0b3A6IDJweDtcbiAgICBsZWZ0OiAtM3B4O1xufVxuLnJlc3BvbnNpdmUtbWVudSAudXNlVGVtcGxhdGUgLmJ0bi1yZWQ6aG92ZXIgaSB7XG4gICAgY29sb3I6ICNmYjVmNjYgIWltcG9ydGFudDtcbn0iXX0= */\"","module.exports = \"<og-premium-modal></og-premium-modal>\\n<div class=\\\"responsive-menu\\\" (mouseenter)=\\\"onMouseEnter()\\\">\\n  <span class=\\\"preview-temp-type\\\">Preview: <span>{{templates[selector]}}</span></span>\\n  <!--<span class=\\\"title\\\">Resize Template: </span>-->\\n  <div class=\\\"icon-block\\\">\\n    <a href=\\\"javascript:void(0);\\\" (click)=\\\"switchView('desktop')\\\" [class.active-view]=\\\"className==='desktop'\\\">\\n      <i class=\\\"material-icons\\\">desktop_mac</i>\\n      <span>|</span>\\n    </a>\\n    <a href=\\\"javascript:void(0);\\\" (click)=\\\"switchView('tablet')\\\" [class.active-view]=\\\"className==='tablet'\\\">\\n      <i class=\\\"material-icons\\\">tablet_mac</i>\\n      <span>|</span>\\n    </a>\\n    <a href=\\\"javascript:void(0);\\\" (click)=\\\"switchView('mobile')\\\" [class.active-view]=\\\"className==='mobile'\\\">\\n      <i class=\\\"material-icons\\\">smartphone</i>\\n    </a>\\n  </div>\\n  <div class=\\\"useTemplate\\\" *ngIf=\\\"!urlPreview\\\">\\n    <button type=\\\"button\\\" (click)=\\\"useTemplate()\\\" class=\\\"btn btn-red btn-hover rs-hide\\\">\\n      <i class=\\\"material-icons\\\" *ngIf=\\\"!getFeatureaccess()\\\">lock_outline</i> Use Layout</button>\\n  </div>\\n\\n  <div class=\\\"useTemplate\\\" *ngIf=\\\"urlPreview\\\">\\n    <button type=\\\"button\\\" (click)=\\\"useUrlPreviewTemplate()\\\" class=\\\"btn btn-red btn-hover rs-hide\\\">\\n      <i class=\\\"material-icons\\\" *ngIf=\\\"!getFeatureaccess()\\\">lock_outline</i> \\n      Use Layout</button>\\n  </div>\\n  \\n</div>\\n<div id=\\\"main-profile\\\">\\n  <iframe (mouseenter)=\\\"onMouseEnter()\\\" (mouseleave)=\\\"onMouseLeave()\\\" id=\\\"mobile-iframe\\\" [ngClass]=\\\"{\\n            desktop: className==='desktop', \\n            tablet: className==='tablet',\\n            mobile: className==='mobile'\\n        }\\\" [src]=\\\"src | safeUrl\\\" align=\\\"middle\\\">\\n  </iframe>\\n</div>\\n\""],"sourceRoot":""}